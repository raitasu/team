import{aS as De,x as Tr,al as F,t as se,b5 as Br,cr as jr,cL as Nr,ae as Ir,af as Pr,a9 as qr}from"./index-7c96dcd7.js";function nt(e){const{value:i,defaultValue:r,onChange:t,shouldUpdate:a=(m,x)=>m!==x}=e,u=De(t),o=De(a),[_,y]=Tr.useState(r),V=i!==void 0,S=V?i:_,C=De(m=>{const T=typeof m=="function"?m(S):m;o(S,T)&&(V||y(T),u(T))},[V,u,S,o]);return[S,C]}var he=e=>e.type==="checkbox",ae=e=>e instanceof Date,N=e=>e==null;const lr=e=>typeof e=="object";var L=e=>!N(e)&&!Array.isArray(e)&&lr(e)&&!ae(e),or=e=>L(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Wr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cr=(e,i)=>e.has(Wr(i)),le=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,f=(e,i,r)=>{if(!i||!L(e))return r;const t=le(i.split(/[,[\].]+?/)).reduce((a,u)=>N(a)?a:a[u],e);return E(t)||t===e?E(e[i])?r:e[i]:t};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fr=F.createContext(null),pe=()=>F.useContext(fr),ut=e=>{const{children:i,...r}=e;return F.createElement(fr.Provider,{value:r},i)};var dr=(e,i,r,t=!0)=>{const a={defaultValues:i._defaultValues};for(const u in e)Object.defineProperty(a,u,{get:()=>{const o=u;return i._proxyFormState[o]!==K.all&&(i._proxyFormState[o]=!t||K.all),r&&(r[o]=!0),e[o]}});return a},q=e=>L(e)&&!Object.keys(e).length,yr=(e,i,r,t)=>{r(e);const{name:a,...u}=e;return q(u)||Object.keys(u).length>=Object.keys(i).length||Object.keys(u).find(o=>i[o]===(!t||K.all))},H=e=>Array.isArray(e)?e:[e],hr=(e,i,r)=>r&&i?e===i:!e||!i||e===i||H(e).some(t=>t&&(t.startsWith(i)||i.startsWith(t)));function Fe(e){const i=F.useRef(e);i.current=e,F.useEffect(()=>{const r=!e.disabled&&i.current.subject.subscribe({next:i.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Hr(e){const i=pe(),{control:r=i.control,disabled:t,name:a,exact:u}=e||{},[o,_]=F.useState(r._formState),y=F.useRef(!0),V=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),S=F.useRef(a);return S.current=a,Fe({disabled:t,next:C=>y.current&&hr(S.current,C.name,u)&&yr(C,V.current,r._updateFormState)&&_({...r._formState,...C}),subject:r._subjects.state}),F.useEffect(()=>{y.current=!0;const C=r._proxyFormState.isDirty&&r._getDirty();return C!==r._formState.isDirty&&r._subjects.state.next({isDirty:C}),V.current.isValid&&r._updateValid(!0),()=>{y.current=!1}},[r]),dr(o,r,V.current,!1)}var Q=e=>typeof e=="string",gr=(e,i,r,t,a)=>Q(e)?(t&&i.watch.add(e),f(r,e,a)):Array.isArray(e)?e.map(u=>(t&&i.watch.add(u),f(r,u))):(t&&(i.watchAll=!0),r),$r=e=>{const i=e.constructor&&e.constructor.prototype;return L(i)&&i.hasOwnProperty("isPrototypeOf")},He=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function W(e){let i;const r=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(He&&(e instanceof Blob||e instanceof FileList))&&(r||L(e)))if(i=r?[]:{},!Array.isArray(e)&&!$r(e))i=e;else for(const t in e)i[t]=W(e[t]);else return e;return i}function Kr(e){const i=pe(),{control:r=i.control,name:t,defaultValue:a,disabled:u,exact:o}=e||{},_=F.useRef(t);_.current=t,Fe({disabled:u,subject:r._subjects.watch,next:S=>{hr(_.current,S.name,o)&&V(W(gr(_.current,r._names,S.values||r._formValues,!1,a)))}});const[y,V]=F.useState(r._getWatch(t,a));return F.useEffect(()=>r._removeUnmounted()),y}function lt(e){const i=pe(),{name:r,control:t=i.control,shouldUnregister:a}=e,u=cr(t._names.array,r),o=Kr({control:t,name:r,defaultValue:f(t._formValues,r,f(t._defaultValues,r,e.defaultValue)),exact:!0}),_=Hr({control:t,name:r}),y=F.useRef(t.register(r,{...e.rules,value:o}));return F.useEffect(()=>{const V=(S,C)=>{const m=f(t._fields,S);m&&(m._f.mount=C)};return V(r,!0),()=>{const S=t._options.shouldUnregister||a;(u?S&&!t._stateFlags.action:S)?t.unregister(r):V(r,!1)}},[r,t,u,a]),{field:{name:r,value:o,onChange:F.useCallback(V=>y.current.onChange({target:{value:or(V),name:r},type:_e.CHANGE}),[r]),onBlur:F.useCallback(()=>y.current.onBlur({target:{value:f(t._formValues,r),name:r},type:_e.BLUR}),[r,t]),ref:V=>{const S=f(t._fields,r);S&&V&&(S._f.ref={focus:()=>V.focus(),select:()=>V.select(),setCustomValidity:C=>V.setCustomValidity(C),reportValidity:()=>V.reportValidity()})}},formState:_,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(_.errors,r)},isDirty:{enumerable:!0,get:()=>!!f(_.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!f(_.touchedFields,r)},error:{enumerable:!0,get:()=>f(_.errors,r)}})}}var _r=(e,i,r,t,a)=>i?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[t]:a||!0}}:{},$e=e=>/^\w*$/.test(e),vr=e=>le(e.replace(/["|']|\]/g,"").split(/\.|\[/));function D(e,i,r){let t=-1;const a=$e(i)?[i]:vr(i),u=a.length,o=u-1;for(;++t<u;){const _=a[t];let y=r;if(t!==o){const V=e[_];y=L(V)||Array.isArray(V)?V:isNaN(+a[t+1])?{}:[]}e[_]=y,e=e[_]}return e}const ve=(e,i,r)=>{for(const t of r||Object.keys(e)){const a=f(e,t);if(a){const{_f:u,...o}=a;if(u&&i(u.name)){if(u.ref.focus){u.ref.focus();break}else if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else L(o)&&ve(o,i)}}};var Z=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(Math.random()*16+e)%16|0;return(i=="x"?r:r&3|8).toString(16)})},Ee=(e,i,r={})=>r.shouldFocus||E(r.shouldFocus)?r.focusName||`${e}.${E(r.focusIndex)?i:r.focusIndex}.`:"",Pe=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),qe=(e,i,r)=>!r&&(i.watchAll||i.watch.has(e)||[...i.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),mr=(e,i,r)=>{const t=le(f(e,r));return D(t,"root",i[r]),D(e,r,t),e},ne=e=>typeof e=="boolean",Ke=e=>e.type==="file",ue=e=>typeof e=="function",me=e=>{if(!He)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},ge=e=>Q(e),Ge=e=>e.type==="radio",Ae=e=>e instanceof RegExp;const rr={value:!1,isValid:!1},tr={value:!0,isValid:!0};var Ar=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?tr:{value:e[0].value,isValid:!0}:tr:rr}return rr};const sr={isValid:!1,value:null};var Vr=e=>Array.isArray(e)?e.reduce((i,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:i,sr):sr;function ir(e,i,r="validate"){if(ge(e)||Array.isArray(e)&&e.every(ge)||ne(e)&&!e)return{type:r,message:ge(e)?e:"",ref:i}}var ie=e=>L(e)&&!Ae(e)?e:{value:e,message:""},We=async(e,i,r,t,a)=>{const{ref:u,refs:o,required:_,maxLength:y,minLength:V,min:S,max:C,pattern:m,validate:x,name:T,valueAsNumber:oe,mount:te,disabled:ce}=e._f,p=f(i,T);if(!te||ce)return{};const P=o?o[0]:u,G=k=>{t&&P.reportValidity&&(P.setCustomValidity(ne(k)?"":k||""),P.reportValidity())},h={},A=Ge(u),b=he(u),R=A||b,j=(oe||Ke(u))&&E(u.value)&&E(p)||me(u)&&u.value===""||p===""||Array.isArray(p)&&!p.length,z=_r.bind(null,T,r,h),X=(k,w,U,I=Y.maxLength,$=Y.minLength)=>{const J=k?w:U;h[T]={type:k?I:$,message:J,ref:u,...z(k?I:$,J)}};if(a?!Array.isArray(p)||!p.length:_&&(!R&&(j||N(p))||ne(p)&&!p||b&&!Ar(o).isValid||A&&!Vr(o).isValid)){const{value:k,message:w}=ge(_)?{value:!!_,message:_}:ie(_);if(k&&(h[T]={type:Y.required,message:w,ref:P,...z(Y.required,w)},!r))return G(w),h}if(!j&&(!N(S)||!N(C))){let k,w;const U=ie(C),I=ie(S);if(!N(p)&&!isNaN(p)){const $=u.valueAsNumber||p&&+p;N(U.value)||(k=$>U.value),N(I.value)||(w=$<I.value)}else{const $=u.valueAsDate||new Date(p),J=de=>new Date(new Date().toDateString()+" "+de),ee=u.type=="time",fe=u.type=="week";Q(U.value)&&p&&(k=ee?J(p)>J(U.value):fe?p>U.value:$>new Date(U.value)),Q(I.value)&&p&&(w=ee?J(p)<J(I.value):fe?p<I.value:$<new Date(I.value))}if((k||w)&&(X(!!k,U.message,I.message,Y.max,Y.min),!r))return G(h[T].message),h}if((y||V)&&!j&&(Q(p)||a&&Array.isArray(p))){const k=ie(y),w=ie(V),U=!N(k.value)&&p.length>k.value,I=!N(w.value)&&p.length<w.value;if((U||I)&&(X(U,k.message,w.message),!r))return G(h[T].message),h}if(m&&!j&&Q(p)){const{value:k,message:w}=ie(m);if(Ae(k)&&!p.match(k)&&(h[T]={type:Y.pattern,message:w,ref:u,...z(Y.pattern,w)},!r))return G(w),h}if(x){if(ue(x)){const k=await x(p,i),w=ir(k,P);if(w&&(h[T]={...w,...z(Y.validate,w.message)},!r))return G(w.message),h}else if(L(x)){let k={};for(const w in x){if(!q(k)&&!r)break;const U=ir(await x[w](p,i),P,w);U&&(k={...U,...z(w,U.message)},G(U.message),r&&(h[T]=k))}if(!q(k)&&(h[T]={ref:P,...k},!r))return h}}return G(!0),h};function Ce(e,i){return[...e,...H(i)]}var Oe=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ue(e,i,r){return[...e.slice(0,i),...H(r),...e.slice(i)]}var Re=(e,i,r)=>Array.isArray(e)?(E(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(i,1)[0]),e):[];function Me(e,i){return[...H(i),...H(e)]}function Gr(e,i){let r=0;const t=[...e];for(const a of i)t.splice(a-r,1),r++;return le(t).length?t:[]}var Le=(e,i)=>E(i)?[]:Gr(e,H(i).sort((r,t)=>r-t)),Te=(e,i,r)=>{e[i]=[e[r],e[r]=e[i]][0]};function zr(e,i){const r=i.slice(0,-1).length;let t=0;for(;t<r;)e=E(e)?t++:e[i[t++]];return e}function Jr(e){for(const i in e)if(!E(e[i]))return!1;return!0}function B(e,i){const r=Array.isArray(i)?i:$e(i)?[i]:vr(i),t=r.length===1?e:zr(e,r),a=r.length-1,u=r[a];return t&&delete t[u],a!==0&&(L(t)&&q(t)||Array.isArray(t)&&Jr(t))&&B(e,r.slice(0,-1)),e}var ar=(e,i,r)=>(e[i]=r,e);function ot(e){const i=pe(),{control:r=i.control,name:t,keyName:a="id",shouldUnregister:u}=e,[o,_]=F.useState(r._getFieldArray(t)),y=F.useRef(r._getFieldArray(t).map(Z)),V=F.useRef(o),S=F.useRef(t),C=F.useRef(!1);S.current=t,V.current=o,r._names.array.add(t),e.rules&&r.register(t,e.rules),Fe({next:({values:h,name:A})=>{if(A===S.current||!A){const b=f(h,S.current);Array.isArray(b)&&(_(b),y.current=b.map(Z))}},subject:r._subjects.array});const m=F.useCallback(h=>{C.current=!0,r._updateFieldArray(t,h)},[r,t]),x=(h,A)=>{const b=H(W(h)),R=Ce(r._getFieldArray(t),b);r._names.focus=Ee(t,R.length-1,A),y.current=Ce(y.current,b.map(Z)),m(R),_(R),r._updateFieldArray(t,R,Ce,{argA:Oe(h)})},T=(h,A)=>{const b=H(W(h)),R=Me(r._getFieldArray(t),b);r._names.focus=Ee(t,0,A),y.current=Me(y.current,b.map(Z)),m(R),_(R),r._updateFieldArray(t,R,Me,{argA:Oe(h)})},oe=h=>{const A=Le(r._getFieldArray(t),h);y.current=Le(y.current,h),m(A),_(A),r._updateFieldArray(t,A,Le,{argA:h})},te=(h,A,b)=>{const R=H(W(A)),j=Ue(r._getFieldArray(t),h,R);r._names.focus=Ee(t,h,b),y.current=Ue(y.current,h,R.map(Z)),m(j),_(j),r._updateFieldArray(t,j,Ue,{argA:h,argB:Oe(A)})},ce=(h,A)=>{const b=r._getFieldArray(t);Te(b,h,A),Te(y.current,h,A),m(b),_(b),r._updateFieldArray(t,b,Te,{argA:h,argB:A},!1)},p=(h,A)=>{const b=r._getFieldArray(t);Re(b,h,A),Re(y.current,h,A),m(b),_(b),r._updateFieldArray(t,b,Re,{argA:h,argB:A},!1)},P=(h,A)=>{const b=W(A),R=ar(r._getFieldArray(t),h,b);y.current=[...R].map((j,z)=>!j||z===h?Z():y.current[z]),m(R),_([...R]),r._updateFieldArray(t,R,ar,{argA:h,argB:b},!0,!1)},G=h=>{const A=H(W(h));y.current=A.map(Z),m([...A]),_([...A]),r._updateFieldArray(t,[...A],b=>b,{},!0,!1)};return F.useEffect(()=>{if(r._stateFlags.action=!1,qe(t,r._names)&&r._subjects.state.next({}),C.current&&(!Pe(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([t]).then(h=>{const A=f(h.errors,t),b=f(r._formState.errors,t);(b?!A&&b.type:A&&A.type)&&(A?D(r._formState.errors,t,A):B(r._formState.errors,t),r._subjects.state.next({errors:r._formState.errors}))});else{const h=f(r._fields,t);h&&h._f&&We(h,r._formValues,r._options.criteriaMode===K.all,r._options.shouldUseNativeValidation,!0).then(A=>!q(A)&&r._subjects.state.next({errors:mr(r._formState.errors,A,t)}))}r._subjects.watch.next({name:t,values:r._formValues}),r._names.focus&&ve(r._fields,h=>!!h&&h.startsWith(r._names.focus||"")),r._names.focus="",r._updateValid()},[o,t,r]),F.useEffect(()=>(!f(r._formValues,t)&&r._updateFieldArray(t),()=>{(r._options.shouldUnregister||u)&&r.unregister(t)}),[t,r,a,u]),{swap:F.useCallback(ce,[m,t,r]),move:F.useCallback(p,[m,t,r]),prepend:F.useCallback(T,[m,t,r]),append:F.useCallback(x,[m,t,r]),remove:F.useCallback(oe,[m,t,r]),insert:F.useCallback(te,[m,t,r]),update:F.useCallback(P,[m,t,r]),replace:F.useCallback(G,[m,t,r]),fields:F.useMemo(()=>o.map((h,A)=>({...h,[a]:y.current[A]||Z()})),[o,a])}}function Be(){let e=[];return{get observers(){return e},next:a=>{let u=0;const o=e.length;for(;u<o;)e[u].next(a),++u},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(u=>u!==a)}}),unsubscribe:()=>{e=[]}}}var Ve=e=>N(e)||!lr(e);function re(e,i){if(Ve(e)||Ve(i))return e===i;if(ae(e)&&ae(i))return e.getTime()===i.getTime();const r=Object.keys(e),t=Object.keys(i);if(r.length!==t.length)return!1;for(const a of r){const u=e[a];if(!t.includes(a))return!1;if(a!=="ref"){const o=i[a];if(ae(u)&&ae(o)||L(u)&&L(o)||Array.isArray(u)&&Array.isArray(o)?!re(u,o):u!==o)return!1}}return!0}var xr=e=>e.type==="select-multiple",Qr=e=>Ge(e)||he(e),je=e=>me(e)&&e.isConnected,pr=e=>{for(const i in e)if(ue(e[i]))return!0;return!1};function xe(e,i={}){const r=Array.isArray(e);if(L(e)||r)for(const t in e)Array.isArray(e[t])||L(e[t])&&!pr(e[t])?(i[t]=Array.isArray(e[t])?[]:{},xe(e[t],i[t])):N(e[t])||(i[t]=!0);return i}function Fr(e,i,r){const t=Array.isArray(e);if(L(e)||t)for(const a in e)Array.isArray(e[a])||L(e[a])&&!pr(e[a])?E(i)||Ve(r[a])?r[a]=Array.isArray(e[a])?xe(e[a],[]):{...xe(e[a])}:Fr(e[a],N(i)?{}:i[a],r[a]):re(e[a],i[a])?delete r[a]:r[a]=!0;return r}var Ne=(e,i)=>Fr(e,i,xe(i)),br=(e,{valueAsNumber:i,valueAsDate:r,setValueAs:t})=>E(e)?e:i?e===""?NaN:e&&+e:r&&Q(e)?new Date(e):t?t(e):e;function Ie(e){const i=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):i.disabled))return Ke(i)?i.files:Ge(i)?Vr(e.refs).value:xr(i)?[...i.selectedOptions].map(({value:r})=>r):he(i)?Ar(e.refs).value:br(E(i.value)?e.ref.value:i.value,e)}var Xr=(e,i,r,t)=>{const a={};for(const u of e){const o=f(i,u);o&&D(a,u,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:t}},ye=e=>E(e)?e:Ae(e)?e.source:L(e)?Ae(e.value)?e.value.source:e.value:e,Yr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function nr(e,i,r){const t=f(e,r);if(t||$e(r))return{error:t,name:r};const a=r.split(".");for(;a.length;){const u=a.join("."),o=f(i,u),_=f(e,u);if(o&&!Array.isArray(o)&&r!==u)return{name:r};if(_&&_.type)return{name:u,error:_};a.pop()}return{name:r}}var Zr=(e,i,r,t,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(i||e):(r?t.isOnBlur:a.isOnBlur)?!e:(r?t.isOnChange:a.isOnChange)?e:!0,et=(e,i)=>!le(f(e,i)).length&&B(e,i);const rt={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function tt(e={},i){let r={...rt,...e},t={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},u=L(r.defaultValues)||L(r.values)?W(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:W(u),_={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},V,S=0;const C=e.resetOptions&&e.resetOptions.keepDirtyValues,m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={watch:Be(),array:Be(),state:Be()},T=Pe(r.mode),oe=Pe(r.reValidateMode),te=r.criteriaMode===K.all,ce=s=>n=>{clearTimeout(S),S=setTimeout(s,n)},p=async s=>{if(m.isValid||s){const n=r.resolver?q((await j()).errors):await X(a,!0);n!==t.isValid&&x.state.next({isValid:n})}},P=s=>m.isValidating&&x.state.next({isValidating:s}),G=(s,n=[],l,d,g=!0,c=!0)=>{if(d&&l){if(_.action=!0,c&&Array.isArray(f(a,s))){const v=l(f(a,s),d.argA,d.argB);g&&D(a,s,v)}if(c&&Array.isArray(f(t.errors,s))){const v=l(f(t.errors,s),d.argA,d.argB);g&&D(t.errors,s,v),et(t.errors,s)}if(m.touchedFields&&c&&Array.isArray(f(t.touchedFields,s))){const v=l(f(t.touchedFields,s),d.argA,d.argB);g&&D(t.touchedFields,s,v)}m.dirtyFields&&(t.dirtyFields=Ne(u,o)),x.state.next({name:s,isDirty:w(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(o,s,n)},h=(s,n)=>{D(t.errors,s,n),x.state.next({errors:t.errors})},A=(s,n,l,d)=>{const g=f(a,s);if(g){const c=f(o,s,E(l)?f(u,s):l);E(c)||d&&d.defaultChecked||n?D(o,s,n?c:Ie(g._f)):$(s,c),_.mount&&p()}},b=(s,n,l,d,g)=>{let c=!1,v=!1;const M={name:s};if(!l||d){m.isDirty&&(v=t.isDirty,t.isDirty=M.isDirty=w(),c=v!==M.isDirty);const O=re(f(u,s),n);v=f(t.dirtyFields,s),O?B(t.dirtyFields,s):D(t.dirtyFields,s,!0),M.dirtyFields=t.dirtyFields,c=c||m.dirtyFields&&v!==!O}if(l){const O=f(t.touchedFields,s);O||(D(t.touchedFields,s,l),M.touchedFields=t.touchedFields,c=c||m.touchedFields&&O!==l)}return c&&g&&x.state.next(M),c?M:{}},R=(s,n,l,d)=>{const g=f(t.errors,s),c=m.isValid&&ne(n)&&t.isValid!==n;if(e.delayError&&l?(V=ce(()=>h(s,l)),V(e.delayError)):(clearTimeout(S),V=null,l?D(t.errors,s,l):B(t.errors,s)),(l?!re(g,l):g)||!q(d)||c){const v={...d,...c&&ne(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,...v},x.state.next(v)}P(!1)},j=async s=>await r.resolver(o,r.context,Xr(s||y.mount,a,r.criteriaMode,r.shouldUseNativeValidation)),z=async s=>{const{errors:n}=await j();if(s)for(const l of s){const d=f(n,l);d?D(t.errors,l,d):B(t.errors,l)}else t.errors=n;return n},X=async(s,n,l={valid:!0})=>{for(const d in s){const g=s[d];if(g){const{_f:c,...v}=g;if(c){const M=y.array.has(c.name),O=await We(g,o,te,r.shouldUseNativeValidation,M);if(O[c.name]&&(l.valid=!1,n))break;!n&&(f(O,c.name)?M?mr(t.errors,O,c.name):D(t.errors,c.name,O[c.name]):B(t.errors,c.name))}v&&await X(v,n,l)}}return l.valid},k=()=>{for(const s of y.unMount){const n=f(a,s);n&&(n._f.refs?n._f.refs.every(l=>!je(l)):!je(n._f.ref))&&be(s)}y.unMount=new Set},w=(s,n)=>(s&&n&&D(o,s,n),!re(ze(),u)),U=(s,n,l)=>gr(s,y,{..._.mount?o:E(n)?u:Q(s)?{[s]:n}:n},l,n),I=s=>le(f(_.mount?o:u,s,e.shouldUnregister?f(u,s,[]):[])),$=(s,n,l={})=>{const d=f(a,s);let g=n;if(d){const c=d._f;c&&(!c.disabled&&D(o,s,br(n,c)),g=me(c.ref)&&N(n)?"":n,xr(c.ref)?[...c.ref.options].forEach(v=>v.selected=g.includes(v.value)):c.refs?he(c.ref)?c.refs.length>1?c.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(g)?!!g.find(M=>M===v.value):g===v.value)):c.refs[0]&&(c.refs[0].checked=!!g):c.refs.forEach(v=>v.checked=v.value===g):Ke(c.ref)?c.ref.value="":(c.ref.value=g,c.ref.type||x.watch.next({name:s})))}(l.shouldDirty||l.shouldTouch)&&b(s,g,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&de(s)},J=(s,n,l)=>{for(const d in n){const g=n[d],c=`${s}.${d}`,v=f(a,c);(y.array.has(s)||!Ve(g)||v&&!v._f)&&!ae(g)?J(c,g,l):$(c,g,l)}},ee=(s,n,l={})=>{const d=f(a,s),g=y.array.has(s),c=W(n);D(o,s,c),g?(x.array.next({name:s,values:o}),(m.isDirty||m.dirtyFields)&&l.shouldDirty&&x.state.next({name:s,dirtyFields:Ne(u,o),isDirty:w(s,c)})):d&&!d._f&&!N(c)?J(s,c,l):$(s,c,l),qe(s,y)&&x.state.next({}),x.watch.next({name:s}),!_.mount&&i()},fe=async s=>{const n=s.target;let l=n.name;const d=f(a,l),g=()=>n.type?Ie(d._f):or(s);if(d){let c,v;const M=g(),O=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Rr=!Yr(d._f)&&!r.resolver&&!f(t.errors,l)&&!d._f.deps||Zr(O,f(t.touchedFields,l),t.isSubmitted,oe,T),Se=qe(l,y,O);D(o,l,M),O?(d._f.onBlur&&d._f.onBlur(s),V&&V(0)):d._f.onChange&&d._f.onChange(s);const ke=b(l,M,O,!1),Mr=!q(ke)||Se;if(!O&&x.watch.next({name:l,type:s.type}),Rr)return m.isValid&&p(),Mr&&x.state.next({name:l,...Se?{}:ke});if(!O&&Se&&x.state.next({}),P(!0),r.resolver){const{errors:Ze}=await j([l]),Lr=nr(t.errors,a,l),er=nr(Ze,a,Lr.name||l);c=er.error,l=er.name,v=q(Ze)}else c=(await We(d,o,te,r.shouldUseNativeValidation))[l],c?v=!1:m.isValid&&(v=await X(a,!0));d._f.deps&&de(d._f.deps),R(l,v,c,ke)}},de=async(s,n={})=>{let l,d;const g=H(s);if(P(!0),r.resolver){const c=await z(E(s)?s:g);l=q(c),d=s?!g.some(v=>f(c,v)):l}else s?(d=(await Promise.all(g.map(async c=>{const v=f(a,c);return await X(v&&v._f?{[c]:v}:v)}))).every(Boolean),!(!d&&!t.isValid)&&p()):d=l=await X(a);return x.state.next({...!Q(s)||m.isValid&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors,isValidating:!1}),n.shouldFocus&&!d&&ve(a,c=>c&&f(t.errors,c),s?g:y.mount),d},ze=s=>{const n={...u,..._.mount?o:{}};return E(s)?n:Q(s)?f(n,s):s.map(l=>f(n,l))},Je=(s,n)=>({invalid:!!f((n||t).errors,s),isDirty:!!f((n||t).dirtyFields,s),isTouched:!!f((n||t).touchedFields,s),error:f((n||t).errors,s)}),Sr=s=>{s&&H(s).forEach(n=>B(t.errors,n)),x.state.next({errors:s?t.errors:{}})},kr=(s,n,l)=>{const d=(f(a,s,{_f:{}})._f||{}).ref;D(t.errors,s,{...n,ref:d}),x.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},Dr=(s,n)=>ue(s)?x.watch.subscribe({next:l=>s(U(void 0,n),l)}):U(s,n,!0),be=(s,n={})=>{for(const l of s?H(s):y.mount)y.mount.delete(l),y.array.delete(l),f(a,l)&&(n.keepValue||(B(a,l),B(o,l)),!n.keepError&&B(t.errors,l),!n.keepDirty&&B(t.dirtyFields,l),!n.keepTouched&&B(t.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&B(u,l));x.watch.next({}),x.state.next({...t,...n.keepDirty?{isDirty:w()}:{}}),!n.keepIsValid&&p()},we=(s,n={})=>{let l=f(a,s);const d=ne(n.disabled);return D(a,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...n}}),y.mount.add(s),l?d&&D(o,s,n.disabled?void 0:f(o,s,Ie(l._f))):A(s,!0,n.value),{...d?{disabled:n.disabled}:{},...r.shouldUseNativeValidation?{required:!!n.required,min:ye(n.min),max:ye(n.max),minLength:ye(n.minLength),maxLength:ye(n.maxLength),pattern:ye(n.pattern)}:{},name:s,onChange:fe,onBlur:fe,ref:g=>{if(g){we(s,n),l=f(a,s);const c=E(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,v=Qr(c),M=l._f.refs||[];if(v?M.find(O=>O===c):c===l._f.ref)return;D(a,s,{_f:{...l._f,...v?{refs:[...M.filter(je),c,...Array.isArray(f(u,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),A(s,!1,void 0,c)}else l=f(a,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(cr(y.array,s)&&_.action)&&y.unMount.add(s)}}},Qe=()=>r.shouldFocusError&&ve(a,s=>s&&f(t.errors,s),y.mount),Er=(s,n)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=W(o);if(x.state.next({isSubmitting:!0}),r.resolver){const{errors:g,values:c}=await j();t.errors=g,d=c}else await X(a);B(t.errors,"root"),q(t.errors)?(x.state.next({errors:{}}),await s(d,l)):(n&&await n({...t.errors},l),Qe(),setTimeout(Qe)),x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors),submitCount:t.submitCount+1,errors:t.errors})},Cr=(s,n={})=>{f(a,s)&&(E(n.defaultValue)?ee(s,f(u,s)):(ee(s,n.defaultValue),D(u,s,n.defaultValue)),n.keepTouched||B(t.touchedFields,s),n.keepDirty||(B(t.dirtyFields,s),t.isDirty=n.defaultValue?w(s,f(u,s)):w()),n.keepError||(B(t.errors,s),m.isValid&&p()),x.state.next({...t}))},Xe=(s,n={})=>{const l=s||u,d=W(l),g=s&&!q(s)?d:u;if(n.keepDefaultValues||(u=l),!n.keepValues){if(n.keepDirtyValues||C)for(const c of y.mount)f(t.dirtyFields,c)?D(g,c,f(o,c)):ee(c,f(g,c));else{if(He&&E(s))for(const c of y.mount){const v=f(a,c);if(v&&v._f){const M=Array.isArray(v._f.refs)?v._f.refs[0]:v._f.ref;if(me(M)){const O=M.closest("form");if(O){O.reset();break}}}}a={}}o=e.shouldUnregister?n.keepDefaultValues?W(u):{}:d,x.array.next({values:g}),x.watch.next({values:g})}y={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!_.mount&&i(),_.mount=!m.isValid||!!n.keepIsValid,_.watch=!!e.shouldUnregister,x.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!re(s,u)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:n.keepDirtyValues?t.dirtyFields:n.keepDefaultValues&&s?Ne(u,s):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ye=(s,n)=>Xe(ue(s)?s(o):s,n),Or=(s,n={})=>{const l=f(a,s),d=l&&l._f;if(d){const g=d.refs?d.refs[0]:d.ref;g.focus&&(g.focus(),n.shouldSelect&&g.select())}},Ur=s=>{t={...t,...s}};return ue(r.defaultValues)&&r.defaultValues().then(s=>{Ye(s,r.resetOptions),x.state.next({isLoading:!1})}),{control:{register:we,unregister:be,getFieldState:Je,_executeSchema:j,_getWatch:U,_getDirty:w,_updateValid:p,_removeUnmounted:k,_updateFieldArray:G,_getFieldArray:I,_reset:Xe,_updateFormState:Ur,_subjects:x,_proxyFormState:m,get _fields(){return a},get _formValues(){return o},get _stateFlags(){return _},set _stateFlags(s){_=s},get _defaultValues(){return u},get _names(){return y},set _names(s){y=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:de,register:we,handleSubmit:Er,watch:Dr,setValue:ee,getValues:ze,reset:Ye,resetField:Cr,clearErrors:Sr,unregister:be,setError:kr,setFocus:Or,getFieldState:Je}}function ct(e={}){const i=F.useRef(),[r,t]=F.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ue(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...tt(e,()=>t(u=>({...u}))),formState:r});const a=i.current.control;return a._options=e,Fe({subject:a._subjects.state,next:u=>{yr(u,a._proxyFormState,a._updateFormState,!0)&&t({...a._formState})}}),F.useEffect(()=>{a._stateFlags.mount||(a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()}),F.useEffect(()=>{e.values&&!re(e.values,a._defaultValues)&&a._reset(e.values,a._options.resetOptions)},[e.values,a]),i.current.formState=dr(r,a),i.current}var ur=function(e,i,r){if(e&&"reportValidity"in e){var t=f(r,i);e.setCustomValidity(t&&t.message||""),e.reportValidity()}},wr=function(e,i){var r=function(a){var u=i.fields[a];u&&u.ref&&"reportValidity"in u.ref?ur(u.ref,a,e):u.refs&&u.refs.forEach(function(o){return ur(o,a,e)})};for(var t in i.fields)r(t)},st=function(e,i){i.shouldUseNativeValidation&&wr(e,i);var r={};for(var t in e){var a=f(i.fields,t);D(r,t,Object.assign(e[t],{ref:a&&a.ref}))}return r},it=function(e,i){for(var r={};e.length;){var t=e[0],a=t.code,u=t.message,o=t.path.join(".");if(!r[o])if("unionErrors"in t){var _=t.unionErrors[0].errors[0];r[o]={message:_.message,type:_.code}}else r[o]={message:u,type:a};if("unionErrors"in t&&t.unionErrors.forEach(function(S){return S.errors.forEach(function(C){return e.push(C)})}),i){var y=r[o].types,V=y&&y[t.code];r[o]=_r(o,i,r,a,V?[].concat(V,t.message):t.message)}e.shift()}return r},ft=function(e,i,r){return r===void 0&&(r={}),function(t,a,u){try{return Promise.resolve(function(o,_){try{var y=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](t,i)).then(function(V){return u.shouldUseNativeValidation&&wr({},u),{errors:{},values:r.rawValues?t:V}})}catch(V){return _(V)}return y&&y.then?y.then(void 0,_):y}(0,function(o){return{values:{},errors:o.isEmpty?{}:st(it(o.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)}}))}catch(o){return Promise.reject(o)}}};const dt=({title:e,shouldUseOverlay:i,footer:r,children:t,contentProps:a,closeOnOverlayClick:u=!0,...o})=>se.jsxs(Br,{closeOnOverlayClick:u,...o,children:[i&&se.jsx(jr,{}),se.jsxs(Nr,{display:"flex",flexDirection:"column",alignItems:"flex-start",...a,children:[e&&se.jsx(Ir,{children:e}),se.jsx(Pr,{width:"100%",children:t}),r&&se.jsx(qr,{width:"100%",display:"flex",justifyContent:a!=null&&a.justifyContent?a.justifyContent:"space-between",children:r})]})]});export{dt as B,ut as F,pe as a,ct as b,ot as c,nt as d,ft as s,lt as u};
