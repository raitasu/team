import{w as U,aP as ye,R as H,t as e,O as L,Q as N,x as j,H as Se,I as F,aQ as T,aR as we,aI as Ae,S as Ie,aJ as ne,aK as B,J as Pe,K as $e,aS as De,aT as oe,B as h,aE as ze,aU as X,ag as Ee,aV as Me,aW as Ne,r as S,T as x,X as O,aa as $,a8 as ce,aA as Ve,aX as We,V as r,a7 as Oe,aY as de,aZ as ue,a_ as se,a$ as Te,P as xe,b0 as te,b1 as Be,b2 as He,Y as Le,Z as Ge,aB as Fe,$ as ie,b3 as ae,b4 as Ke}from"./index-b52e60c4.js";import{d as pe,u as w,a as A,c as D,B as Ue,b as Xe,F as Ye,s as Qe}from"./index-6daba2ff.js";import{I as Y,D as Q}from"./index-e0576515.js";import{T as Je,C as K,P as me}from"./employee.styles-04eda2df.js";import{C as Ze}from"./index-47815d84.js";import{S as qe}from"./chunk-O5CRURSQ-9f7f155a.js";import{u as Re,a as en,b as nn}from"./cv.api.slice-0a41192c.js";import{P as on}from"./PageContainer-cf710d20.js";import{P as sn}from"./PageToolbox-e4e89f14.js";import"./chunk-RSUMUOHR-d38abe03.js";var[tn,G]=U({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[an,J]=U({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[ln,Rn,rn,cn]=ye(),fe=H(function(o,i){const{getButtonProps:s}=J(),l=s(o,i),c={display:"flex",alignItems:"center",width:"100%",outline:0,...G().button};return e.jsx(L.button,{...l,className:N("chakra-accordion__button",o.className),__css:c})});fe.displayName="AccordionButton";function dn(n){const{onChange:o,defaultIndex:i,index:s,allowMultiple:l,allowToggle:d,...c}=n;pn(n),mn(n);const t=rn(),[a,b]=j.useState(-1);j.useEffect(()=>()=>{b(-1)},[]);const[m,u]=pe({value:s,defaultValue(){return l?i!=null?i:[]:i!=null?i:-1},onChange:o});return{index:m,setIndex:u,htmlProps:c,getAccordionItemProps:f=>{let g=!1;return f!==null&&(g=Array.isArray(m)?m.includes(f):m===f),{isOpen:g,onChange:C=>{if(f!==null)if(l&&Array.isArray(m)){const I=C?m.concat(f):m.filter(V=>V!==f);u(I)}else C?u(f):d&&u(-1)}}},focusedIndex:a,setFocusedIndex:b,descendants:t}}var[un,Z]=U({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function xn(n){const{isDisabled:o,isFocusable:i,id:s,...l}=n,{getAccordionItemProps:d,setFocusedIndex:c}=Z(),t=j.useRef(null),a=j.useId(),b=s!=null?s:a,m=`accordion-button-${b}`,u=`accordion-panel-${b}`;fn(n);const{register:v,index:f,descendants:g}=cn({disabled:o&&!i}),{isOpen:k,onChange:C}=d(f===-1?null:f);hn({isOpen:k,isDisabled:o});const I=()=>{C==null||C(!0)},V=()=>{C==null||C(!1)},q=j.useCallback(()=>{C==null||C(!k),c(f)},[f,c,k,C]),R=j.useCallback(W=>{const M={ArrowDown:()=>{const y=g.nextEnabled(f);y==null||y.node.focus()},ArrowUp:()=>{const y=g.prevEnabled(f);y==null||y.node.focus()},Home:()=>{const y=g.firstEnabled();y==null||y.node.focus()},End:()=>{const y=g.lastEnabled();y==null||y.node.focus()}}[W.key];M&&(W.preventDefault(),M(W))},[g,f]),ee=j.useCallback(()=>{c(f)},[c,f]),Ce=j.useCallback(function(P={},M=null){return{...P,type:"button",ref:Se(v,t,M),id:m,disabled:!!o,"aria-expanded":!!k,"aria-controls":u,onClick:F(P.onClick,q),onFocus:F(P.onFocus,ee),onKeyDown:F(P.onKeyDown,R)}},[m,o,k,q,ee,R,u,v]),_e=j.useCallback(function(P={},M=null){return{...P,ref:M,role:"region",id:u,"aria-labelledby":m,hidden:!k}},[m,k,u]);return{isOpen:k,isDisabled:o,isFocusable:i,onOpen:I,onClose:V,getButtonProps:Ce,getPanelProps:_e,htmlProps:l}}function pn(n){const o=n.index||n.defaultIndex,i=o!=null&&!Array.isArray(o)&&n.allowMultiple;T({condition:!!i,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof o},`})}function mn(n){T({condition:!!(n.allowMultiple&&n.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function fn(n){T({condition:!!(n.isFocusable&&!n.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function hn(n){T({condition:n.isOpen&&!!n.isDisabled,message:"Cannot open a disabled accordion item"})}function he(n){const{isOpen:o,isDisabled:i}=J(),{reduceMotion:s}=Z(),l=N("chakra-accordion__icon",n.className),d=G(),c={opacity:i?.4:1,transform:o?"rotate(-180deg)":void 0,transition:s?void 0:"transform 0.2s",transformOrigin:"center",...d.icon};return e.jsx(we,{viewBox:"0 0 24 24","aria-hidden":!0,className:l,__css:c,...n,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}he.displayName="AccordionIcon";var be=H(function(o,i){const{children:s,className:l}=o,{htmlProps:d,...c}=xn(o),a={...G().container,overflowAnchor:"none"},b=j.useMemo(()=>c,[c]);return e.jsx(an,{value:b,children:e.jsx(L.div,{ref:i,...d,className:N("chakra-accordion__item",l),__css:a,children:typeof s=="function"?s({isExpanded:!!c.isOpen,isDisabled:!!c.isDisabled}):s})})});be.displayName="AccordionItem";var bn=n=>n!=null&&parseInt(n.toString(),10)>0,le={exit:{height:{duration:.2,ease:B.ease},opacity:{duration:.3,ease:B.ease}},enter:{height:{duration:.3,ease:B.ease},opacity:{duration:.4,ease:B.ease}}},gn={exit:({animateOpacity:n,startingHeight:o,transition:i,transitionEnd:s,delay:l})=>{var d;return{...n&&{opacity:bn(o)?1:0},height:o,transitionEnd:s==null?void 0:s.exit,transition:(d=i==null?void 0:i.exit)!=null?d:ne.exit(le.exit,l)}},enter:({animateOpacity:n,endingHeight:o,transition:i,transitionEnd:s,delay:l})=>{var d;return{...n&&{opacity:1},height:o,transitionEnd:s==null?void 0:s.enter,transition:(d=i==null?void 0:i.enter)!=null?d:ne.enter(le.enter,l)}}},ge=j.forwardRef((n,o)=>{const{in:i,unmountOnExit:s,animateOpacity:l=!0,startingHeight:d=0,endingHeight:c="auto",style:t,className:a,transition:b,transitionEnd:m,...u}=n,[v,f]=j.useState(!1);j.useEffect(()=>{const V=setTimeout(()=>{f(!0)});return()=>clearTimeout(V)},[]),T({condition:Boolean(d>0&&s),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const g=parseFloat(d.toString())>0,k={startingHeight:d,endingHeight:c,animateOpacity:l,transition:v?b:{enter:{duration:0}},transitionEnd:{enter:m==null?void 0:m.enter,exit:s?m==null?void 0:m.exit:{...m==null?void 0:m.exit,display:g?"block":"none"}}},C=s?i:!0,I=i||s?"enter":"exit";return e.jsx(Ae,{initial:!1,custom:k,children:C&&e.jsx(Ie.div,{ref:o,...u,className:N("chakra-collapse",a),style:{overflow:"hidden",display:"block",...t},custom:k,variants:gn,initial:s?"exit":!1,animate:I,exit:"exit"})})});ge.displayName="Collapse";var je=H(function(o,i){const{className:s,motionProps:l,...d}=o,{reduceMotion:c}=Z(),{getPanelProps:t,isOpen:a}=J(),b=t(d,i),m=N("chakra-accordion__panel",s),u=G();c||delete b.hidden;const v=e.jsx(L.div,{...b,__css:u.panel,className:m});return c?v:e.jsx(ge,{in:a,...l,children:v})});je.displayName="AccordionPanel";var ve=H(function({children:o,reduceMotion:i,...s},l){const d=Pe("Accordion",s),c=$e(s),{htmlProps:t,descendants:a,...b}=dn(c),m=j.useMemo(()=>({...b,reduceMotion:!!i}),[b,i]);return e.jsx(ln,{value:a,children:e.jsx(un,{value:m,children:e.jsx(tn,{value:d,children:e.jsx(L.div,{ref:l,...t,className:N("chakra-accordion",s.className),__css:d.root,children:o})})})})});ve.displayName="Accordion";function re(n){return n&&oe(n)&&oe(n.target)}function jn(n={}){const{defaultValue:o,value:i,onChange:s,isDisabled:l,isNative:d}=n,c=De(s),[t,a]=pe({value:i,defaultValue:o||[],onChange:c}),b=j.useCallback(u=>{if(!t)return;const v=re(u)?u.target.checked:!t.includes(u),f=re(u)?u.target.value:u,g=v?[...t,f]:t.filter(k=>String(k)!==String(f));a(g)},[a,t]),m=j.useCallback((u={})=>({...u,[d?"checked":"isChecked"]:t.some(f=>String(u.value)===String(f)),onChange:b}),[b,d,t]);return{value:t,isDisabled:l,onChange:b,setValue:a,getCheckboxProps:m}}const _={Avatar:"avatar",Position:"position",Description:"description",WorkExperience:"work_experiences",HardSkills:"hard_skills",SoftSkills:"soft_skills",Languages:"languages",Education:"educations",Certificates:"certificates",Publications:"publications"},ke=n=>n.cv.blocks,vn=({cv:n})=>e.jsx(h,{children:e.jsx(ze,{size:"cv",src:n.profile.avatar?`https://team-prod.cybergizer.com${n.profile.avatar}`:void 0})}),z=({text:n,addHandler:o})=>{const[i,s]=j.useState(!1);return e.jsxs(h,{position:"relative",onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:[e.jsx(X,{size:"lg",sx:{textTransform:"uppercase"},mt:2,children:n}),i&&e.jsx(h,{sx:{border:"1px solid #E0E0E0",borderRadius:"2px",position:"absolute",backgroundColor:"white",top:"3px",right:"3px"},children:e.jsx(Y,{icon:e.jsx(Ee,{}),"aria-label":"edit",variant:"iconButtonSmall",onClick:o})}),e.jsx(Q,{sx:{border:"1px solid #EF4523"}})]})},E=({onClick:n,children:o})=>{const[i,s]=j.useState(!1);return e.jsxs(h,{borderRight:i?"1px solid #E0E0E0":void 0,position:"relative",onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:[o,i&&e.jsx(h,{sx:{border:"1px solid #E0E0E0",borderRadius:"2px",position:"absolute",backgroundColor:"white",top:"calc(50% - 13px)",right:"5px"},children:e.jsx(Y,{icon:e.jsx(Me,{}),"aria-label":"edit",variant:"iconButtonSmall",onClick:()=>n()})})]})},p=({onClick:n,children:o,isInline:i})=>{const[s,l]=j.useState(!1),d={cursor:"pointer",color:"transparent",textShadow:"0 0 2px #000"};return e.jsxs(h,{display:i?"inline-block":"block",sx:s?d:void 0,position:"relative",onClick:()=>n(),onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},children:[o,s&&e.jsx(h,{sx:{border:"1px solid #E0E0E0",borderRadius:"2px",position:"absolute",backgroundColor:"white",top:"calc(50% - 13px)",left:"calc(50% - 12px)"},children:e.jsx(Y,{icon:e.jsx(Ne,{}),"aria-label":"edit",variant:"iconButtonSmall"})})]})},kn=({setRegisteredField:n})=>{var c;const[o]=S(),{field:i}=w({name:"profile"}),{control:s}=A(),{append:l,remove:d}=D({control:s,name:"profile.certificates"});return e.jsxs(e.Fragment,{children:[e.jsx(z,{text:o("domains:cv.blocks.certificates"),addHandler:()=>{l({id:Date.now(),name:"xxx",issued_by:"xxx",start_date:"xxx",link:"xxx",end_date:"xxx"})}}),(c=i.value.certificates)==null?void 0:c.map((t,a)=>e.jsx(E,{onClick:()=>{d(a)},children:e.jsxs(h,{children:[e.jsx(p,{isInline:!0,onClick:()=>n(`profile.certificates.${a}.start_date`),children:e.jsx(x,{mt:5,mb:1,fontSize:"lg",color:"brand.black",children:t.start_date===""?"...":t.start_date})}),e.jsx(p,{isInline:!0,onClick:()=>n(`profile.certificates.${a}.end_date`),children:e.jsxs(x,{mt:5,mb:1,fontSize:"lg",color:"brand.black",children:[" -"," ",t.end_date===""?"...":t.end_date]})}),e.jsx(p,{onClick:()=>n(`profile.certificates.${a}.name`),children:e.jsx(x,{fontWeight:"900",fontSize:"xl",color:"brand.black",children:t.name})}),e.jsxs(p,{onClick:()=>n(`profile.certificates.${a}.link`),children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"lg",color:"brand.black",children:`${o("domains:cv.titles.link")}: `}),e.jsx(x,{fontSize:"lg",as:"span",color:"brand.black",children:t.link})]})]})},t.id))]})},Cn=({setRegisteredField:n})=>{const{field:o}=w({name:"profile"});return e.jsx(p,{onClick:()=>n("profile.description"),children:e.jsx(x,{mt:3,fontSize:"lg",color:"brand.black",children:o.value.description===null||o.value.description===""?"...":o.value.description})})},_n=({setRegisteredField:n})=>{var c;const[o]=S(),{field:i}=w({name:"profile"}),{control:s}=A(),{append:l,remove:d}=D({control:s,name:"profile.educations"});return e.jsxs(e.Fragment,{children:[e.jsx(z,{text:o("domains:cv.blocks.educations"),addHandler:()=>{l({id:Date.now(),university_name:"xxx",speciality:"xxx",started_at:"xxx",graduated_at:"xxx",country:"xxx",degree:"xxx"})}}),(c=i.value.educations)==null?void 0:c.map((t,a)=>e.jsx(E,{onClick:()=>{d(a)},children:e.jsxs(h,{children:[e.jsx(p,{isInline:!0,onClick:()=>n(`profile.educations.${a}.started_at`),children:e.jsx(x,{mt:7,mb:2,fontSize:"lg",color:"brand.black",children:t.started_at===""?"...":t.started_at})}),e.jsx(p,{isInline:!0,onClick:()=>n(`profile.educations.${a}.graduated_at`),children:e.jsxs(x,{mt:7,mb:2,fontSize:"lg",color:"brand.black",children:[" -"," ",t.graduated_at===""?"...":t.graduated_at]})}),e.jsx(p,{onClick:()=>n(`profile.educations.${a}.university_name`),children:e.jsx(x,{fontWeight:"900",fontSize:"xl",color:"brand.black",children:t.university_name})}),e.jsx(p,{onClick:()=>n(`profile.educations.${a}.country`),children:e.jsx(x,{fontSize:"lg",mb:2,color:"brand.lightGray",children:t.country===null||t.country===""?"...":t.country})}),e.jsxs(p,{onClick:()=>n(`profile.educations.${a}.degree`),children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"xl",color:"brand.black",children:`${o("domains:cv.titles.degree")}: `}),e.jsx(x,{fontSize:"xl",as:"span",color:"brand.black",children:t.degree})]}),e.jsx(p,{onClick:()=>n(`profile.educations.${a}.speciality`),children:e.jsxs(h,{mt:1,children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"xl",color:"brand.black",children:`${o("domains:cv.titles.fields_of_study")}: `}),e.jsx(x,{fontSize:"xl",as:"span",color:"brand.black",children:t.speciality})]})})]})},t.id))]})},yn=({setRegisteredField:n})=>{var c;const[o]=S(),{field:i}=w({name:"profile"}),{control:s}=A(),{append:l,remove:d}=D({control:s,name:"profile.hard_skills"});return e.jsxs(e.Fragment,{children:[e.jsx(z,{text:o("domains:cv.blocks.hard_skills"),addHandler:()=>{l({name:"xxx",years_of_experience:"XX years"})}}),(c=i.value.hard_skills)==null?void 0:c.map((t,a)=>e.jsx(E,{onClick:()=>{d(a)},children:e.jsxs(h,{mt:3,children:[e.jsx(p,{onClick:()=>n(`profile.hard_skills.${a}.name`),children:e.jsx(x,{fontSize:"lg",color:"brand.black",children:t.name})}),e.jsx(p,{onClick:()=>n(`profile.hard_skills.${a}.years_of_experience`),children:e.jsx(x,{color:"brand.lightGray",as:"span",children:t.years_of_experience})})]})},t.name))]})},Sn=({setRegisteredField:n})=>{var c;const[o]=S(),{field:i}=w({name:"profile"}),{control:s}=A(),{append:l,remove:d}=D({control:s,name:"profile.languages"});return e.jsxs(e.Fragment,{children:[e.jsx(z,{text:o("domains:cv.blocks.languages"),addHandler:()=>{l({id:Date.now(),name:"xxx (xx)"})}}),(c=i.value.languages)==null?void 0:c.map((t,a)=>e.jsx(E,{onClick:()=>{d(a)},children:e.jsx(p,{onClick:()=>n(`profile.languages.${a}.name`),children:e.jsx(x,{pt:3,fontSize:"lg",color:"brand.black",children:t.name})})},t.id))]})},wn=({setRegisteredField:n})=>{const{field:o}=w({name:"profile"});return e.jsx(p,{onClick:()=>n("profile.name"),children:e.jsx(X,{size:"2xl",children:o.value.name})})},An=({setRegisteredField:n})=>{const{field:o}=w({name:"profile"});return e.jsxs(h,{mb:5,mt:5,children:[e.jsx(p,{isInline:!0,onClick:()=>n("profile.position"),children:e.jsx(X,{size:"xl",mb:2,children:o.value.position===""||o.value.position===null?"...":o.value.position})}),e.jsxs(O,{children:[e.jsx(p,{isInline:!0,onClick:()=>n("profile.years_of_experience"),children:e.jsx(x,{variant:"dm",fontSize:"xl",children:o.value.years_of_experience})}),e.jsx(Q,{ml:2,mr:2,sx:{borderWidth:"1px",borderColor:"#7B7D7D",height:"20px"},orientation:"vertical"}),e.jsx(p,{isInline:!0,onClick:()=>n("profile.projects_count"),children:e.jsx(x,{variant:"dm",fontSize:"xl",children:o.value.projects_count})})]})]})},In=({setRegisteredField:n})=>{var c;const[o]=S(),{field:i}=w({name:"profile"}),{control:s}=A(),{append:l,remove:d}=D({control:s,name:"profile.publications"});return e.jsxs(e.Fragment,{children:[e.jsx(z,{text:o("domains:cv.blocks.publications"),addHandler:()=>{l({id:Date.now(),name:"xxx",url:"xxx",start_date:"xxx",description:"xxx"})}}),(c=i.value.publications)==null?void 0:c.map((t,a)=>e.jsx(E,{onClick:()=>{d(a)},children:e.jsxs(h,{children:[e.jsx(p,{onClick:()=>n(`profile.publications.${a}.start_date`),children:e.jsx(x,{mt:7,mb:1,fontSize:"lg",color:"brand.black",children:t.start_date})}),e.jsx(p,{onClick:()=>n(`profile.publications.${a}.name`),children:e.jsx(x,{fontWeight:"900",fontSize:"xl",color:"brand.black",children:t.name})}),e.jsx(p,{onClick:()=>n(`profile.publications.${a}.description`),children:e.jsxs(h,{mt:1,children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"xl",color:"brand.black",children:`${o("domains:cv.titles.description")}: `}),e.jsx(x,{fontSize:"xl",as:"span",color:"brand.black",children:t.description})]})}),e.jsx(p,{onClick:()=>n(`profile.publications.${a}.url`),children:e.jsxs(h,{mt:1,children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"xl",color:"brand.black",children:`${o("domains:cv.titles.link")}: `}),e.jsx(x,{fontSize:"xl",as:"span",color:"brand.black",children:t.url})]})})]})},t.id))]})},Pn=({setRegisteredField:n})=>{var c;const[o]=S(),{field:i}=w({name:"profile"}),{control:s}=A(),{append:l,remove:d}=D({control:s,name:"profile.soft_skills"});return e.jsxs(e.Fragment,{children:[e.jsx(z,{text:o("domains:cv.blocks.soft_skills"),addHandler:()=>{l({id:Date.now(),name:"xxx"})}}),(c=i.value.soft_skills)==null?void 0:c.map((t,a)=>e.jsx(E,{onClick:()=>{d(a)},children:e.jsx(p,{onClick:()=>n(`profile.soft_skills.${a}.name`),children:e.jsx(x,{mt:3,mb:3,fontSize:"lg",color:"brand.black",children:t.name})})},t.id))]})},$n=({setRegisteredField:n})=>{var c;const[o]=S(),{field:i}=w({name:"profile"}),{control:s}=A(),{append:l,remove:d}=D({control:s,name:"profile.work_experiences"});return e.jsxs(e.Fragment,{children:[e.jsx(z,{text:o("domains:cv.blocks.work_experiences"),addHandler:()=>{l({id:Date.now(),project_name:"xxx",company_name:"xxx",description:"xxx",responsibilities:"xxx",environment:"xxx",position:"xxx",started_at:"xxx",ended_at:"xxx"})}}),(c=i.value.work_experiences)==null?void 0:c.map((t,a)=>e.jsx(E,{onClick:()=>{d(a)},children:e.jsxs(h,{children:[e.jsx(p,{isInline:!0,onClick:()=>n(`profile.work_experiences.${a}.started_at`),children:e.jsx(x,{mt:7,mb:2,fontSize:"lg",color:"brand.black",children:t.started_at===""?"...":t.started_at})}),e.jsx(p,{isInline:!0,onClick:()=>n(`profile.work_experiences.${a}.ended_at`),children:e.jsxs(x,{mt:7,mb:2,fontSize:"lg",color:"brand.black",children:[" -"," ",t.ended_at===""?"...":t.ended_at]})}),e.jsx(p,{onClick:()=>n(`profile.work_experiences.${a}.position`),children:e.jsx(x,{fontWeight:"900",fontSize:"xl",color:"brand.black",children:t.position})}),e.jsx(p,{isInline:!0,onClick:()=>n(`profile.work_experiences.${a}.project_name`),children:e.jsx(x,{fontSize:"xl",mb:2,color:"brand.lightGray",children:t.project_name})}),e.jsx(p,{isInline:!0,onClick:()=>n(`profile.work_experiences.${a}.company_name`),children:e.jsxs(x,{fontSize:"xl",mb:2,color:"brand.lightGray",children:[" (",t.company_name,")"]})}),e.jsxs(p,{onClick:()=>n(`profile.work_experiences.${a}.description`),children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"xl",color:"brand.black",children:`${o("domains:cv.titles.description")}: `}),e.jsx(x,{fontSize:"xl",as:"span",color:"brand.black",children:t.description})]}),e.jsx(p,{onClick:()=>n(`profile.work_experiences.${a}.responsibilities`),children:e.jsxs(h,{mt:1,children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"xl",color:"brand.black",children:`${o("domains:cv.titles.responsibilities")}: `}),e.jsx(x,{fontSize:"xl",as:"span",color:"brand.black",children:t.responsibilities})]})}),e.jsx(p,{onClick:()=>n(`profile.work_experiences.${a}.environment`),children:e.jsxs(h,{mt:1,children:[e.jsx(x,{as:"span",fontWeight:"900",fontSize:"xl",color:"brand.black",children:`${o("domains:cv.titles.environment")}: `}),e.jsx(x,{fontSize:"xl",as:"span",color:"brand.black",children:t.environment})]})})]})},t.id))]})},Dn=({registeredField:n,setRegisteredField:o})=>{const{register:i}=A(),[s]=S();return e.jsxs(Ue,{autoFocus:!0,isOpen:n!==null,onClose:()=>o(null),shouldUseOverlay:!0,isCentered:!0,contentProps:{maxWidth:"688px"},children:[n!==null&&e.jsx(Je,{mt:3,fontSize:"lg",color:"brand.black",...i(n)}),e.jsxs(O,{justifyContent:"space-between",children:[e.jsx($,{m:4,variant:"primaryGhost",onClick:()=>o(null),paddingLeft:"32.5px",paddingRight:"32.5px",children:s("general_actions:cancel")}),e.jsx($,{m:4,alignSelf:"flex-end",onClick:()=>o(null),paddingLeft:"32.5px",paddingRight:"32.5px",children:s("general_actions:save")})]})]})},zn=({cv:n})=>{const o=ce(ke),[i,s]=j.useState(null),l=d=>Boolean(o.find(c=>c===d));return e.jsxs(h,{height:"min-content",padding:"45px 60px",border:"1px solid",borderColor:"brand.stroke",borderRadius:"4px",bg:"brand.white",width:"892px",margin:"0 auto",children:[e.jsxs(h,{display:"flex",justifyContent:"space-between",children:[e.jsxs(h,{children:[e.jsx(Ve,{src:We,width:"240px",mb:5,alt:"company logo"}),e.jsx(wn,{setRegisteredField:s}),l(_.Position)&&e.jsx(An,{setRegisteredField:s})]}),l(_.Avatar)&&e.jsx(vn,{cv:n})]}),l(_.Description)&&e.jsx(Cn,{setRegisteredField:s}),e.jsx(Q,{mb:6,mt:8}),e.jsxs(h,{display:"flex",flexDirection:"row",children:[e.jsxs(h,{minWidth:"235px",pr:8,children:[l(_.Languages)&&e.jsx(Sn,{setRegisteredField:s}),l(_.HardSkills)&&e.jsx(yn,{setRegisteredField:s}),l(_.SoftSkills)&&e.jsx(Pn,{setRegisteredField:s})]}),e.jsxs(h,{minWidth:"535px",children:[l(_.WorkExperience)&&e.jsx($n,{setRegisteredField:s}),l(_.Education)&&e.jsx(_n,{setRegisteredField:s}),l(_.Certificates)&&e.jsx(kn,{setRegisteredField:s}),l(_.Publications)&&e.jsx(In,{setRegisteredField:s})]})]}),e.jsx(Dn,{registeredField:i,setRegisteredField:s})]})},En=r.object({id:r.number(),name:r.string().nullable(),url:r.string().nullable(),start_date:r.string().nullable(),description:r.string().nullable()}),Mn=r.object({id:r.number(),name:r.string().nullable(),issued_by:r.string().nullable(),start_date:r.string().nullable(),link:r.string().nullable(),end_date:r.string().nullable()}),Nn=r.object({id:r.number(),university_name:r.string().nullable(),speciality:r.string().nullable(),started_at:r.string().nullable(),graduated_at:r.string().nullable(),country:r.string().nullable(),degree:r.string().nullable()}),Vn=r.object({id:r.number(),project_name:r.string().nullable(),company_name:r.string().nullable(),description:r.string().nullable(),responsibilities:r.string().nullable(),environment:r.string().nullable(),position:r.string().nullable(),started_at:r.string().nullable(),ended_at:r.string().nullable()}),Wn=r.object({id:r.number(),name:r.string().nullable()}),On=r.object({name:r.string().nullable(),years_of_experience:r.string().nullable()}),Tn=r.object({id:r.number(),name:r.string().nullable()}),Bn=r.object({name:r.string().nullable(),id:r.number(),link:r.string().nullable(),profile:r.object({id:r.number(),name:r.string(),projects_count:r.string(),years_of_experience:r.string(),avatar:r.string().nullable(),position:r.string().nullable(),description:r.string().nullable(),languages:Tn.array().nullable(),hard_skills:On.array().nullable(),soft_skills:Wn.array().nullable(),work_experiences:Vn.array().nullable(),educations:Nn.array().nullable(),certificates:Mn.array().nullable(),publications:En.array().nullable()})}),Hn=({cv:n,onSave:o,onSaveAs:i,onDelete:s})=>{const[l]=S(),d=Oe(),c=de(),{employeeId:t}=ue(),a=j.useMemo(()=>Object.values(_).filter(u=>{var v,f;if(typeof n.profile[u]=="object"&&((v=n.profile[u])==null?void 0:v.length)!==void 0){const g=(f=n.profile[u])==null?void 0:f.length;if(g!==void 0&&g>0)return!0}return typeof n.profile[u]=="string"}),[n.profile]),{value:b,getCheckboxProps:m}=jn({defaultValue:a,onChange:u=>{d(se(u))}});return j.useEffect(()=>{d(se(a))},[d,a]),e.jsxs(h,{flex:"0 0 330px",height:"min-content",padding:"20px 15px",border:"1px solid",borderColor:"brand.stroke",borderRadius:"4px",bg:"brand.white",gap:"20px",display:"flex",flexDirection:"column",maxWidth:"240px",children:[e.jsx($,{width:"100%",variant:"primaryOutline",leftIcon:e.jsx(Te,{}),onClick:()=>{t&&c(`${xe.Employees}/${t}`)},children:l("domains:cv.navigation.back_to_profile")}),e.jsx(ve,{allowMultiple:!0,children:e.jsxs(be,{sx:{border:"1px solid",borderRadius:"4px",borderColor:"brand.stroke"},children:[e.jsx("h2",{children:e.jsxs(fe,{children:[e.jsx(h,{as:"span",flex:"1",textAlign:"left",children:l("domains:cv.navigation.blocks")}),e.jsx(he,{})]})}),e.jsx(je,{pb:4,children:e.jsx(qe,{spacing:[1,5],direction:["column","column"],children:Object.values(_).map(u=>e.jsx(Ze,{variant:"outlined",label:l(`domains:cv.blocks.${u}`),...m({value:u}),isChecked:Boolean(b.find(v=>v===u))},u))})})]})}),e.jsx($,{width:"100%",variant:"primaryOutline",leftIcon:e.jsx(te,{}),onClick:o,children:l("domains:cv.navigation.save")}),e.jsx($,{width:"100%",variant:"primaryOutline",leftIcon:e.jsx(te,{}),onClick:i,children:l("domains:cv.navigation.save_as")}),e.jsx($,{width:"100%",variant:"primaryOutline",leftIcon:e.jsx(Be,{}),onClick:()=>{t&&window.open(`https://team-prod.cybergizer.com/api/v1/employees/${t}/cvs/${n.id}.pdf`,"_blank")},children:l("domains:cv.navigation.export_pdf")}),e.jsx($,{width:"100%",variant:"primaryOutline",leftIcon:e.jsx(He,{}),onClick:s,children:l("domains:cv.navigation.delete")})]})},Ln=({cv:n})=>{const[o]=S(),i=de(),s=Xe({defaultValues:n,resolver:Qe(Bn)}),[l]=Re(),[d,{isLoading:c}]=en(),[t,a]=j.useState(!1),b=ce(ke),m=Le(ie),u=Ge(ie),v=async()=>{try{await s.handleSubmit(async g=>{const k=g.profile;Object.values(_).forEach(C=>{b.find(I=>I===C)||(k[C]=null)}),await l({employeeId:n.profile.id,cvId:n.id,cv:{payload:k}}).unwrap()},g=>console.error("sv save error",g))(),u({description:o("domains:cv.actions.cv_saved")})}catch(g){console.error(g),m({description:o("domains:global.errors.descriptions.unknown_error")})}},f=async()=>{try{await d({employeeId:n.profile.id,cvId:n.id}).unwrap(),u({description:o("domains:cv.actions.cv_deleted")}),i(`${xe.Employees}/${n.profile.id}`)}catch(g){console.error(g),m({description:o("domains:global.errors.descriptions.unknown_error")})}};return e.jsxs(Ye,{...s,children:[e.jsxs(O,{overflow:"hidden",flexGrow:1,gap:K,children:[e.jsx(O,{width:me,maxH:"100%",gap:K,flexDirection:"column",overflow:"hidden",children:e.jsx(Hn,{cv:n,onSave:v,onSaveAs:v,onDelete:()=>{a(!0)}})}),e.jsx(O,{flex:"1",overflow:"auto",children:e.jsx(zn,{cv:n})})]}),e.jsx(Fe,{title:o("domains:global.confirmations.titles.delete_cv"),description:o("domains:global.confirmations.descriptions.delete_cv"),onConfirm:f,isOpen:t,onClose:()=>a(!1),isLoading:c})]})},eo=()=>{const{employeeId:n,cvId:o}=ue(),{data:i,isLoading:s}=nn({employeeId:n||String(ae.skipToken),cvId:o||String(ae.skipToken)});return e.jsxs(on,{children:[e.jsx(sn,{}),s&&e.jsx(Ke,{}),e.jsx(h,{textAlign:"center",ml:`calc(${me} + ${K})`,pb:"10px",children:e.jsx(x,{sx:{textTransform:"uppercase"},fontSize:"xl",fontWeight:"900",as:"span",children:i&&i.name})}),i&&e.jsx(Ln,{cv:i})]})};export{eo as CreateCV};
