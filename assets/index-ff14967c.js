import{v as ts,w as Pe,x as c,y as ns,z as as,A as ls,C as is,D as cs,F as us,G as oe,H as I,I as j,J as ds,K as ps,M as ms,t as r,N as gs,O as $,Q as ae,R as le,S as fs,U as hs,V as f,W as Ee,r as m,X as Y,T as N,Y as vs,Z as xs,$ as ye,a0 as ys,b as bs,d as _s,a1 as js,a2 as Cs,a3 as ws,a4 as Ps,a5 as Es,a6 as Ss,a7 as Se,a8 as J,a9 as ks,aa as Q,ab as Ts,E as Fs,f as Ms,B as V,ac as As,ad as Bs,ae as Rs,af as Os,ag as ie,ah as Is,ai as Ds,aj as $s,P as Vs,ak as k,al as Ls,am as Ns,an as Hs,ao as Gs}from"./index-7c96dcd7.js";import{u as P,a as M,b as ke,B as zs,F as Te,s as Fe,c as Us}from"./index-fd30cd2e.js";import{i as Ws,F as b,I as L,S as A,T as Me,c as qs,u as Ks,a as Zs,g as Qs,b as Ys}from"./index-82eae258.js";import{i as Js,A as Xs,G as Ae,a as er,c as be,g as sr}from"./dates.utils-434c8e9a.js";import{E as rr,a as or,C as tr}from"./index-3434c3c7.js";import{u as nr}from"./employees.api-d18e4832.js";import{_ as ar,i as lr,u as ir,a as cr}from"./positions.api-b485f978.js";import{u as Be,P as ur}from"./PageToolbox-5e9ceaff.js";import{s as Re,a as dr,N as pr,T as D,b as mr,c as gr,E as fr}from"./TranslatedHeader-15f93b04.js";import{I as hr,a as vr}from"./SortIcon-73de36cd.js";import{N as xr}from"./index-e62e7877.js";import{D as yr,M as br}from"./chunk-YLPWWAYV-f8b0d1dd.js";import{S as _r}from"./chunk-O5CRURSQ-cbe1017d.js";import{C as Oe}from"./ControlButton-662fd126.js";import{P as jr}from"./PageContainer-39cf8395.js";import"./index-517a60f3.js";import"./cv.api.slice-cc4af3c5.js";import"./_arrayPush-1b12cf12.js";function Cr(e){return"current"in e}var Ie=()=>typeof window<"u";function wr(){var e;const s=navigator.userAgentData;return(e=s==null?void 0:s.platform)!=null?e:navigator.platform}var Pr=e=>Ie()&&e.test(navigator.vendor),Er=e=>Ie()&&e.test(wr()),Sr=()=>Er(/mac|iphone|ipad|ipod/i),kr=()=>Sr()&&Pr(/apple/i);function Tr(e){const{ref:s,elements:o,enabled:t}=e,n=()=>{var a,l;return(l=(a=s.current)==null?void 0:a.ownerDocument)!=null?l:document};ts(n,"pointerdown",a=>{if(!kr()||!t)return;const l=a.target,u=(o!=null?o:[s]).some(p=>{const g=Cr(p)?p.current:p;return(g==null?void 0:g.contains(l))||g===l});n().activeElement!==l&&u&&(a.preventDefault(),l.focus())})}var[Fr,H]=Pe({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[Mr,ce]=Pe({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function De(e){const s=c.Children.only(e.children),{getTriggerProps:o}=H();return c.cloneElement(s,o(s.props,s.ref))}De.displayName="PopoverTrigger";var T={click:"click",hover:"hover"};function Ar(e={}){const{closeOnBlur:s=!0,closeOnEsc:o=!0,initialFocusRef:t,id:n,returnFocusOnClose:a=!0,autoFocus:l=!0,arrowSize:i,arrowShadowColor:u,trigger:p=T.click,openDelay:g=200,closeDelay:x=200,isLazy:h,lazyBehavior:B="unmount",computePositionOnMount:G,...R}=e,{isOpen:y,onClose:C,onOpen:X,onToggle:ue}=ns(e),ee=c.useRef(null),z=c.useRef(null),S=c.useRef(null),O=c.useRef(!1),de=c.useRef(!1);y&&(de.current=!0);const[pe,ze]=c.useState(!1),[me,Ue]=c.useState(!1),We=c.useId(),qe=n!=null?n:We,[ge,U,W,q]=["popover-trigger","popover-content","popover-header","popover-body"].map(d=>`${d}-${qe}`),{referenceRef:K,getArrowProps:Ke,getPopperProps:fe,getArrowInnerProps:Ze,forceUpdate:Qe}=as({...R,enabled:y||!!G}),he=ls({isOpen:y,ref:S});Tr({enabled:y,ref:z}),is(S,{focusRef:z,visible:y,shouldFocus:a&&p===T.click}),cs(S,{focusRef:t,visible:y,shouldFocus:l&&p===T.click});const ve=us({wasSelected:de.current,enabled:h,mode:B,isSelected:he.present}),Ye=c.useCallback((d={},_=null)=>{const v={...d,style:{...d.style,transformOrigin:oe.transformOrigin.varRef,[oe.arrowSize.var]:i?`${i}px`:void 0,[oe.arrowShadowColor.var]:u},ref:I(S,_),children:ve?d.children:null,id:U,tabIndex:-1,role:"dialog",onKeyDown:j(d.onKeyDown,w=>{o&&w.key==="Escape"&&C()}),onBlur:j(d.onBlur,w=>{const Z=_e(w),re=te(S.current,Z),os=te(z.current,Z);y&&s&&(!re&&!os)&&C()}),"aria-labelledby":pe?W:void 0,"aria-describedby":me?q:void 0};return p===T.hover&&(v.role="tooltip",v.onMouseEnter=j(d.onMouseEnter,()=>{O.current=!0}),v.onMouseLeave=j(d.onMouseLeave,w=>{w.nativeEvent.relatedTarget!==null&&(O.current=!1,setTimeout(()=>C(),x))})),v},[ve,U,pe,W,me,q,p,o,C,y,s,x,u,i]),Je=c.useCallback((d={},_=null)=>fe({...d,style:{visibility:y?"visible":"hidden",...d.style}},_),[y,fe]),Xe=c.useCallback((d,_=null)=>({...d,ref:I(_,ee,K)}),[ee,K]),E=c.useRef(),se=c.useRef(),xe=c.useCallback(d=>{ee.current==null&&K(d)},[K]),es=c.useCallback((d={},_=null)=>{const v={...d,ref:I(z,_,xe),id:ge,"aria-haspopup":"dialog","aria-expanded":y,"aria-controls":U};return p===T.click&&(v.onClick=j(d.onClick,ue)),p===T.hover&&(v.onFocus=j(d.onFocus,()=>{E.current===void 0&&X()}),v.onBlur=j(d.onBlur,w=>{const Z=_e(w),re=!te(S.current,Z);y&&s&&re&&C()}),v.onKeyDown=j(d.onKeyDown,w=>{w.key==="Escape"&&C()}),v.onMouseEnter=j(d.onMouseEnter,()=>{O.current=!0,E.current=window.setTimeout(()=>X(),g)}),v.onMouseLeave=j(d.onMouseLeave,()=>{O.current=!1,E.current&&(clearTimeout(E.current),E.current=void 0),se.current=window.setTimeout(()=>{O.current===!1&&C()},x)})),v},[ge,y,U,p,xe,ue,X,s,C,g,x]);c.useEffect(()=>()=>{E.current&&clearTimeout(E.current),se.current&&clearTimeout(se.current)},[]);const ss=c.useCallback((d={},_=null)=>({...d,id:W,ref:I(_,v=>{ze(!!v)})}),[W]),rs=c.useCallback((d={},_=null)=>({...d,id:q,ref:I(_,v=>{Ue(!!v)})}),[q]);return{forceUpdate:Qe,isOpen:y,onAnimationComplete:he.onComplete,onClose:C,getAnchorProps:Xe,getArrowProps:Ke,getArrowInnerProps:Ze,getPopoverPositionerProps:Je,getPopoverProps:Ye,getTriggerProps:es,getHeaderProps:ss,getBodyProps:rs}}function te(e,s){return e===s||(e==null?void 0:e.contains(s))}function _e(e){var s;const o=e.currentTarget.ownerDocument.activeElement;return(s=e.relatedTarget)!=null?s:o}function $e(e){const s=ds("Popover",e),{children:o,...t}=ps(e),n=ms(),a=Ar({...t,direction:n.direction});return r.jsx(Fr,{value:a,children:r.jsx(Mr,{value:s,children:gs(o,{isOpen:a.isOpen,onClose:a.onClose,forceUpdate:a.forceUpdate})})})}$e.displayName="Popover";function Ve(e){var s;const{bg:o,bgColor:t,backgroundColor:n,shadow:a,boxShadow:l}=e,{getArrowProps:i,getArrowInnerProps:u}=H(),p=ce(),g=(s=o!=null?o:t)!=null?s:n,x=a!=null?a:l;return r.jsx($.div,{...i(),className:"chakra-popover__arrow-positioner",children:r.jsx($.div,{className:ae("chakra-popover__arrow",e.className),...u(e),__css:{"--popper-arrow-bg":g?`colors.${g}, ${g}`:void 0,"--popper-arrow-shadow":x?`shadows.${x}, ${x}`:void 0,...p.arrow}})})}Ve.displayName="PopoverArrow";var Le=le(function(s,o){const{getBodyProps:t}=H(),n=ce();return r.jsx($.div,{...t(s,o),className:ae("chakra-popover__body",s.className),__css:n.body})});Le.displayName="PopoverBody";function Br(e){if(e)return{enter:{...e.enter,visibility:"visible"},exit:{...e.exit,transitionEnd:{visibility:"hidden"}}}}var Rr={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},Or=$(fs.section),Ne=le(function(s,o){const{variants:t=Rr,...n}=s,{isOpen:a}=H();return r.jsx(Or,{ref:o,variants:Br(t),initial:!1,animate:a?"enter":"exit",...n})});Ne.displayName="PopoverTransition";var He=le(function(s,o){const{rootProps:t,motionProps:n,...a}=s,{getPopoverProps:l,getPopoverPositionerProps:i,onAnimationComplete:u}=H(),p=ce(),g={position:"relative",display:"flex",flexDirection:"column",...p.content};return r.jsx($.div,{...i(t),__css:p.popper,className:"chakra-popover__popper",children:r.jsx(Ne,{...n,...l(a,o),onAnimationComplete:hs(u,a.onAnimationComplete),className:ae("chakra-popover__content",s.className),__css:g})})});He.displayName="PopoverContent";const Ir=f.object({first_name:f.string().min(1,"required_field"),last_name:f.string().min(1,"required_field"),email:f.string().transform((e,s)=>{const o=e.concat("@cybergizer.com");return Ws(o)||s.addIssue({code:f.ZodIssueCode.custom,message:"invalid_email"}),o}),personal_email:f.string().email("invalid_email").optional().or(f.literal("")),status:Ee,avatar:f.instanceof(File).nullable().superRefine((e,s)=>(e&&!Js(e)&&s.addIssue({code:f.ZodIssueCode.custom,message:`File must be one of ${Xs.join(", ")} but was ${e instanceof File?e.type:e}`}),null))}),Dr=({onReset:e})=>{var a;const{field:s,formState:{errors:o}}=P({name:"avatar"}),{field:t}=P({name:"status"}),n=l=>{s.onChange(l),s.onBlur()};return r.jsx(b,{errorMessage:(a=o.avatar)!=null&&a.message?o.avatar.message:void 0,children:r.jsx(rr,{avatarUrl:null,avatarFile:s.value,onAvatarChanged:n,status:t.value,onReset:e})})},$r=()=>{var t,n;const{register:e,formState:{errors:s}}=M(),[o]=m();return r.jsxs(Ae,{columnGap:"20px",rowGap:"10px",templateColumns:"repeat(2, 1fr)",children:[r.jsx(b,{isRequired:!0,errorMessage:(t=s.first_name)!=null&&t.message?o(`general_errors:${s.first_name.message}`):void 0,label:o("domains:employee.titles.first_name"),children:r.jsx(L,{placeholder:o("general_placeholders:enter_text"),...e("first_name")})}),r.jsx(b,{isRequired:!0,errorMessage:(n=s.last_name)!=null&&n.message?o(`general_errors:${s.last_name.message}`):void 0,label:o("domains:employee.titles.last_name"),children:r.jsx(L,{placeholder:o("general_placeholders:enter_text"),...e("last_name")})})]})},Vr=()=>{var t;const{register:e,formState:{errors:s}}=M(),[o]=m();return r.jsx(b,{label:o("domains:employee.titles.personal_email"),errorMessage:(t=s.personal_email)!=null&&t.message?o(`general_errors:${s.personal_email.message}`):void 0,children:r.jsx(L,{placeholder:o("general_placeholders:enter_text"),type:"email",...e("personal_email")})})},Lr=()=>{var t;const{register:e,formState:{errors:s}}=M(),[o]=m();return r.jsx(b,{isRequired:!0,errorMessage:(t=s.email)!=null&&t.message?o(`general_errors:${s.email.message}`):void 0,label:o("domains:employee.titles.work_email"),children:r.jsxs(Y,{alignItems:"center",children:[r.jsx(L,{placeholder:o("general_placeholders:enter_text"),type:"email",...e("email")}),r.jsx(N,{padding:"10px",children:"@cybergizer.com"})]})})},Nr=()=>r.jsxs(Y,{flexDirection:"column",gap:"10px",children:[r.jsx($r,{}),r.jsx(or,{}),r.jsx(Lr,{}),r.jsx(Vr,{})]}),Hr=({isOpen:e,onClose:s})=>{const[o]=m(),[t,{isLoading:n}]=nr(),a=ke({defaultValues:{avatar:null,first_name:"",last_name:"",email:"",personal_email:"",status:"active"},mode:"onBlur",resolver:Fe(Ir)}),l=vs(ye),i=xs(ye),u=async p=>{try{await t(p).unwrap(),s(),i({description:o("domains:global.confirmations.descriptions.saved")})}catch(g){console.error(g),l({description:o("domains:global.errors.descriptions.unknown_error")})}};return r.jsx(zs,{isOpen:e,onClose:s,isCentered:!0,shouldUseOverlay:!0,title:o("domains:employee.actions.create_profile").toUpperCase(),contentProps:{maxWidth:"962px"},footer:r.jsx(er,{onCancel:s,onReset:()=>a.reset(),isValid:a.formState.isValid,isTouched:a.formState.isDirty,isLoading:n,onSubmit:a.handleSubmit(u),submitTag:"create"}),children:r.jsx(Te,{...a,children:r.jsxs(Ae,{templateColumns:"250px 1fr",gap:"20px",children:[r.jsx(Dr,{onReset:()=>a.resetField("avatar")}),r.jsx(Nr,{})]})})})};var Gr=ys,zr=ar,Ur=bs,Wr=_s,qr=js,Kr=Cs,Zr=ws,Qr=Ps,Yr="[object Map]",Jr="[object Set]",Xr=Object.prototype,eo=Xr.hasOwnProperty;function so(e){if(e==null)return!0;if(qr(e)&&(Wr(e)||typeof e=="string"||typeof e.splice=="function"||Kr(e)||Qr(e)||Ur(e)))return!e.length;var s=zr(e);if(s==Yr||s==Jr)return!e.size;if(Zr(e))return!Gr(e).length;for(var o in e)if(eo.call(e,o))return!1;return!0}var Ge=so;const je=f.object({name:Es,level:Ss.nullable()}),ro=f.object({name:f.string().nullable(),positions:f.number().array().nullable(),hard_skills:f.number().array().nullable(),work_experience_start:f.number({invalid_type_error:"invalid_number"}).nullable(),work_experience_end:f.number({invalid_type_error:"invalid_number"}).nullable(),languages:je.merge(f.object({name:je.shape.name.nullable()})).superRefine((e,s)=>(e.name===null&&e.level&&s.addIssue({code:f.ZodIssueCode.custom,message:"required_field",path:["level"]}),e)).array().nullable(),country:f.string().array().nullable(),statuses:Ee.array().nullable()}).refine(e=>e.work_experience_start===null||e.work_experience_end===null?!0:e.work_experience_start<=e.work_experience_end,{message:"invalid_range",path:["work_experience_start"]}),ne={name:null,positions:null,hard_skills:null,statuses:null,languages:[{name:null,level:null}],work_experience_start:null,work_experience_end:null,country:null},oo=()=>{const{disclosure:{onClose:e}}=Be(),s=Se(),[o]=m(),{formState:{isValid:t,isDirty:n},handleSubmit:a,watch:l,reset:i}=M(),u=J(Re),[p,g]=c.useState(()=>!Ge(u));return c.useEffect(()=>{const x=l(h=>{g(!lr(h,{...ne,...u}))});return()=>{x.unsubscribe()}},[u,l]),r.jsxs(ks,{display:"flex",justifyContent:"space-between",children:[r.jsx(Q,{variant:"primaryGhost",isDisabled:!n,onClick:()=>i(),children:o("domains:filters.actions.clear_filters")}),r.jsx(Q,{variant:"primaryGhost",isDisabled:!t||!p,onClick:a(x=>{var G;const h=Object.fromEntries(Object.entries(x).filter(R=>R[1]!==null)),B=(G=h.languages)==null?void 0:G.filter(R=>R.name);(B==null?void 0:B.length)===0&&delete h.languages,s(Ts(h)),e()}),children:o("domains:filters.actions.apply")})]})},to=()=>{const[e]=m(),{field:s}=P({name:"country"}),{value:o}=s,t=o!==null?be.filter(n=>o.includes(n.value)):null;return r.jsx(b,{label:e("domains:filters.country"),children:r.jsx(A,{onBlur:s.onBlur,value:t,options:be,onChange:n=>{s.onChange(n.length>0?n.map(a=>a.value):null)},isMulti:!0,placeholder:e("domains:filters.placeholders.placeholder_select")})})},no=({hardSkills:e})=>{const{field:s}=P({name:"hard_skills"}),[o]=m(),t=c.useMemo(()=>e?e.map(l=>({value:l.id,label:l.name})):[],[e]),{value:n}=s,a=n!==null?t.filter(l=>n.includes(l.value)):null;return r.jsx(b,{label:o("domains:filters.hard_skills"),children:r.jsx(A,{placeholder:o("domains:filters.placeholders.placeholder_select"),options:t,value:a,onChange:l=>{s.onChange(l.length>0?l.map(i=>i.value):null)},isMulti:!0,size:"md"})})},ao=({index:e})=>{var i,u,p,g,x;const[s]=m(),{field:o,formState:{errors:t}}=P({name:`languages.${e}`}),n=c.useMemo(()=>Fs.map(h=>({value:h,label:s(`enums:language.${h}`)})),[s]),{value:a}=o,l=a.name?n.filter(h=>h.value===a.name):null;return r.jsx(b,{label:s("domains:filters.language"),errorMessage:(p=(u=(i=t.languages)==null?void 0:i[e])==null?void 0:u.level)!=null&&p.message?s(`general_errors:${(x=(g=t.languages[e])==null?void 0:g.level)==null?void 0:x.message}`):void 0,children:r.jsx(A,{...o,placeholder:s("domains:filters.placeholders.placeholder_select"),value:l,options:n,onChange:h=>{o.onChange({name:(h==null?void 0:h.value)||null,level:o.value.level})},size:"md"})})},lo=({index:e})=>{const[s]=m(),{field:o}=P({name:`languages.${e}`}),t=c.useMemo(()=>Ms.map(l=>({value:l,label:s(`enums:language_level.${l}`)})),[s]),{value:n}=o,a=n.level!==null?t.find(l=>l.value===n.level):null;return r.jsx(b,{label:s("domains:filters.language_level"),children:r.jsx(A,{...o,placeholder:s("domains:filters.placeholders.placeholder_select"),value:a,options:t,onChange:l=>{o.onChange({name:o.value.name,level:l?l.value:null})},size:"md"})})},io=({index:e})=>r.jsxs(Y,{justifyContent:"space-between",children:[r.jsx(V,{w:"130px",children:r.jsx(ao,{index:e})}),r.jsx(V,{w:"130px",children:r.jsx(lo,{index:e})})]}),co=()=>{const{register:e,setValue:s}=M(),[o]=m();return r.jsx(b,{label:o("domains:filters.employees"),children:r.jsxs(hr,{children:[r.jsx(vr,{pointerEvents:"none",color:"brand.lightGray",children:r.jsx(As,{size:"20px"})}),r.jsx(L,{...e("name",{onBlur:({currentTarget:{value:t}})=>{s("name",t.trim()||null,{shouldValidate:!0,shouldDirty:!0})}}),type:"search",placeholder:o("domains:filters.placeholders.placeholder_name")})]})})},uo=({positions:e})=>{const{field:s}=P({name:"positions"}),[o]=m(),t=c.useMemo(()=>e?e.map(l=>({value:l.id,label:l.name})):[],[e]),{value:n}=s,a=n!==null?t.filter(l=>n.includes(l.value)):null;return r.jsx(b,{label:o("domains:filters.positions"),children:r.jsx(A,{placeholder:o("domains:filters.placeholders.placeholder_select"),options:t,value:a,onChange:l=>{s.onChange(l.length>0?l.map(i=>i.value):null)},isMulti:!0,size:"md"})})},po=()=>{const[e]=m(),{field:s}=P({name:"statuses"}),o=c.useMemo(()=>Bs.map(a=>({value:a,label:e(`enums:employee_status.${a}`)})),[e]),{value:t}=s,n=t!==null?o.filter(a=>t.includes(a.value)):null;return r.jsx(b,{label:e("domains:filters.status"),children:r.jsx(A,{placeholder:e("domains:filters.placeholders.placeholder_select"),options:o,value:n,onChange:a=>{s.onChange(a.length>0?a.map(l=>l.value):null)},isMulti:!0,size:"md"})})},mo=e=>{if(e.trim()==="")return null;const s=parseFloat(e);return Number.isNaN(s)?e:s},Ce=({name:e,placeholder:s})=>{const{field:o}=P({name:e});return r.jsx(xr,{inputFieldProps:{placeholder:s},ref:o.ref,value:o.value!==null?o.value:"",onBlur:({currentTarget:{value:t}})=>{o.onChange(mo(t)),o.onBlur()},onChange:o.onChange,width:"120px",min:0,step:.5})},go=()=>{var t,n;const{formState:{errors:e}}=M(),[s]=m(),o=((t=e.work_experience_start)==null?void 0:t.message)||((n=e.work_experience_end)==null?void 0:n.message);return r.jsx(b,{label:s("domains:filters.work_experience"),errorMessage:o!==void 0?s(`general_errors:${o}`):"",children:r.jsxs(Y,{justifyContent:"space-between",children:[r.jsx(Ce,{name:"work_experience_start",placeholder:s("domains:filters.placeholders.placeholder_from")}),r.jsx(Ce,{name:"work_experience_end",placeholder:s("domains:filters.placeholders.placeholder_to")})]})})},fo=()=>{const[e]=m(),{data:s}=ir(),{data:o}=cr(),t=J(Re),n=ke({defaultValues:ne,mode:"onBlur",resolver:Fe(ro)}),{fields:a,append:l}=Us({control:n.control,name:"languages"}),{reset:i}=n;return c.useEffect(()=>{Ge(t)||i({...ne,...t},{keepDefaultValues:!0})},[i,t]),r.jsx(Te,{...n,children:r.jsxs(yr,{children:[r.jsx(br,{}),r.jsx(Rs,{children:e("domains:filters.titles.filter",{count:100})}),r.jsx(Os,{children:r.jsxs(_r,{spacing:"20px",children:[r.jsx(co,{}),r.jsx(uo,{positions:s}),r.jsx(no,{hardSkills:o}),r.jsx(go,{}),a.map((u,p)=>r.jsx(io,{index:p},u.id)),r.jsx(V,{children:r.jsx(Q,{leftIcon:r.jsx(ie,{}),variant:"secondaryGhost",onClick:()=>l({name:null,level:null}),children:e("domains:filters.language")})}),r.jsx(to,{}),r.jsx(po,{})]})}),r.jsx(oo,{})]})})},ho=()=>{const[e]=m(),s=J(dr)>0,{disclosure:{onOpen:o},triggerRef:t}=Be();return r.jsx(Me,{hasArrow:!0,place:"left",labelText:e("domains:filters.titles.filter",{count:100}),children:r.jsxs(V,{position:"relative",children:[s?r.jsx(V,{sx:{position:"absolute",top:"4px",right:"14px",backgroundColor:"red",width:"8px",height:"8px",zIndex:1,borderRadius:"9999px"}}):null,r.jsx(Oe,{ref:t,"aria-label":e("domains:filters.titles.filter",{count:100}),onClick:o,icon:r.jsx(Is,{})})]})})},vo=({table:{options:{meta:e}},getValue:s})=>{const[o]=m();return r.jsx(Q,{variant:"primaryOutline",leftIcon:r.jsx(ie,{}),onClick:()=>{const{onAddCVBtnClick:t}=e||{};if(!t)throw new Error("Table should implement onAddCVBtnClick");t(s())},children:o("domains:employee.table_headers.cv")})},xo=({getValue:e})=>{const[s]=m(),o=e(),t=o.country_code?s(`enums:country.${o.country_code}`):"",n=o.city?`${o.city}${t?`, ${t}`:""}`:t;return n?r.jsx("span",{children:n}):r.jsx(N,{color:"brand.lightGray",children:s("domains:employee.errors.no_data")})},yo=({getValue:e})=>{const[s,{language:o}]=m(),t=e(),n=t?sr(t,o,Ds.Long):void 0;return n?r.jsx("span",{children:n}):r.jsx(N,{color:"brand.lightGray",children:s("domains:employee.errors.no_data")})},bo=({getValue:e})=>{const[s]=m(),o=e()||[],t=o.length>0?o.map(n=>n.name).join(", "):void 0;return t?r.jsx("span",{children:t}):r.jsx(N,{color:"brand.lightGray",children:s("domains:employee.errors.no_data")})},we=19,_o=2,jo=({getValue:e})=>{const[s]=m(),o=e(),t=o==null?void 0:o.at(-1),n=c.useRef(null),l=(n.current!==null?n.current.clientHeight:0)>=we*_o,i=u=>r.jsx($s,{to:`${Vs.Projects}/${u.id}`,style:{display:`${l?"block":"inline"}`,lineHeight:`${we}px`},children:`${u.name}${(t==null?void 0:t.id)!==u.id?"; ":""} `},u.id);return r.jsx("div",{ref:n,style:{display:"-webkit-box",maxHeight:"38px",overflow:"hidden",WebkitLineClamp:2,WebkitBoxOrient:"vertical",MozBoxOrient:"vertical"},children:o&&o.length?o.map(u=>l?r.jsxs($e,{trigger:"hover",children:[r.jsx(De,{children:i(u)}),r.jsxs(He,{color:"brand.body",width:"max-content",children:[r.jsx(Ve,{bg:"brand.stroke"}),r.jsx(Le,{bg:"brand.white",children:o.map(p=>i(p))})]})]},u.id):i(u)):r.jsx(N,{color:"brand.lightGray",children:s("domains:projects.errors.no_projects")})})},F=qs(),Co=[F.accessor(e=>e,{id:k.FullName,cell:pr,header:D}),F.accessor("positions",{id:k.Positions,cell:bo,header:D,enableSorting:!1}),F.accessor("contacts.address",{id:k.Contacts,cell:xo,header:D,enableSorting:!0}),F.accessor("date_of_birth",{id:k.Birthday,cell:yo,header:D}),F.accessor("projects",{id:k.CurrentProjects,cell:jo,header:D,enableSorting:!1}),F.accessor("id",{id:k.CV,cell:vo,enableSorting:!1,header:""})],wo=({data:e,hasAdminAccess:s,sorting:o,onSortingChange:t})=>{const[n,a]=Ls.useState(null),l=Ks({columns:Co,data:e,getCoreRowModel:Qs(),manualSorting:!0,onSortingChange:i=>t(typeof i=="function"?i(o):i),meta:{onAddCVBtnClick:i=>{a(i)}},initialState:{columnVisibility:{cv:s}},state:{sorting:o}});return r.jsxs(r.Fragment,{children:[r.jsxs(Zs,{children:[r.jsx(mr,{headerGroups:l.getHeaderGroups()}),r.jsx(gr,{rows:l.getRowModel().rows})]}),s&&r.jsx(tr,{isOpen:n!==null,onClose:()=>a(null),employeeId:n})]})},Po=({onClick:e})=>{const[s]=m();return r.jsx(Me,{hasArrow:!0,place:"left",labelText:s("domains:employee.actions.create_profile"),children:r.jsx(Oe,{"aria-label":s("domains:employee.actions.create_profile"),icon:r.jsx(ie,{}),onClick:e})})},Uo=()=>{const{isOpen:e,onOpen:s,onClose:o}=Ns(),t=Se(),n=J(Hs),a=Ys(n);return c.useEffect(()=>()=>{t(Gs())},[t]),r.jsxs(jr,{children:[r.jsx(fr,{hasAdminAccess:a,table:wo}),e&&r.jsx(Hr,{isOpen:e,onClose:o}),r.jsx(ur,{action:a?r.jsx(Po,{onClick:s}):void 0,drawerControl:r.jsx(ho,{}),drawerContent:r.jsx(fo,{})})]})};export{Uo as Employees};
